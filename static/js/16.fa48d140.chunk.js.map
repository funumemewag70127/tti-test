{"version":3,"sources":["apis/contractHelps/openBoxContract.js","common/utils/functions/sort.js","apis/contractHelps/personalCenterContract.js","apis/contractHelps/introduceContract.js","apis/contractHelps/achievementTopNDataContract.js","apis/contractHelps/betValueTopNData.js","apis/contractHelps/scrollDataContract.js","apis/contractHelps/donationDataContract.js","apis/contractHelps/InstitutionDataContract.js","apis/contractHelps/donationContract.js","apis/home/HomeAPIReal.ts","home/styles/app/myTask/1@3x.png","home/styles/app/myTask/2@3x.png","home/styles/app/myTask/3@3x.png","home/styles/app/myTask/4@3x.png"],"names":["openBoxContract","_openBoxContract","apply","this","arguments","_callee","contract","_ref","currentProvider","accounts","D_workspace_web3game_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","TruffleContract","OpenBoxContract","getProviderAndAccounts","sent","setProvider","defaults","from","abrupt","deployed","stop","loadGame","_x","_loadGame","_callee2","issueNo","_context2","betEvent","_x2","_betEvent","_callee3","_from","event","getAsync","_context3","Bet","fromBlock","toBlock","promisify","get","bind","openBoxRewardEvent","_openBoxRewardEvent","_callee4","_ref2","web3","logs","events","i","log","e","_context4","getWeb3","Reward","target","length","key","args","amount","_","ceil","fromWei","toNumber","time","eventName","getLang","LOGS","KP_BET_REWARD","push","openBoxBetEvent","_openBoxBetEvent","_callee5","_ref3","_context5","KP_BET","compareByTime","obj1","obj2","value1","__webpack_require__","d","__webpack_exports__","TaskImages","TaskImage1","TaskImage2","TaskImage3","TaskImage4","personalCenterContract","_personalCenterContract","regenerator_default","PersonalCenterContract","totalProfit","tspf","tf","plus","myScroll","scrollType","scrollData","tasks","latestGain","name","rate","times","ids","HOME_PAGE","PRODUCT_NAME_0","PRODUCT_NAME_1","PRODUCT_NAME_2","PRODUCT_NAME_3","id","task","remainTimes","tti","staticProfitOfOneTime","staticProfit","myScrolls","_myScrolls","scrollData0","scrollData1","scrollData2","scrollData3","myTaskResponse","BigNumber","todayTotalIncome","taskList","eq","NO_GAIN_DATE","moment","Date","format","getQuarterRewards","_getQuarterRewards","datas","enddays","rewards","draweds","availableRewards","result","quarters","quarter","quarterName","QUARTER","endday","reward","drawed","availableReward","availableTotal","bonusList","drawQuarterRewards","_drawQuarterRewards","scrolls","_scrolls","ss","scroll","limit","canBuy","imageUrl","introduceContract","_introduceContract","IntroduceContract","setInviteCode","_setInviteCode","inviteCode","myIntroduceInfo","_myIntroduceInfo","_callee6","_context6","achievementTopNDataContract","_achievementTopNDataContract","AchievementTopNDataContract","achievementTopN","_achievementTopN","topIntroduces","topAchievements","rankInfos","rankInfo","account","topN","slice","concat","weekAchievementData","_weekAchievementData","achievement","weekData","betValueTopNDataContract","_betValueTopNDataContract","BetValueTopNDataContract","betTopN","_betTopN","topPlayers","topBets","weekBetData","_weekBetData","bet","scrollDataContract","_scrollDataContract","ScrollDataContract","buyScrollEvent","_buyScrollEvent","BuyScroll","_buyer","GET_TASK","releaseScrollEvent","_releaseScrollEvent","ReleaseScroll","_releaser","RELEASE_TASK","renewScrollEvent","_renewScrollEvent","_ref4","RenewScroll","_renewer","RENEW_TASK","donationDataContract","_donationDataContract","DonationDataContract","donateEvent","_donateEvent","DonateEvent","_donor","DONATE","institutionDataContract","_institutionDataContract","InstitutionDataContract","rewardEvent","_rewardEvent","rewardType","_to","t0","GAIN_STATIC_PROFIT","GET_TASK_REWARD","GAIN_STATIC_PROFIT_REWARD","POINT_OF_KP_BET","POINT_OF_NN_BET","drawQuarterRewardEvent","_drawQuarterRewardEvent","DrawQuarterReward","_drawer","GAIN_QUARTER_REWARD","donationContract","_donationContract","DonationContract","donationInfo","_donationInfo","info","currentDay","remainTokenOfDay","tokenOfDay","ttLimit","donate","_donate","param","transactionObject","to","address","value","toWei","ttAmount","sendTransaction","HomeAPIReal","Object","classCallCheck","createClass","_getDonationInfo","asyncToGenerator","mark","_doDonate","params","_getTradingLog","buyScrollEvents","releaseScrollEvents","renewScrollEvents","donateEvents","rewardEvents","drawQuarterRewardEvents","openBoxRewardEvents","openBoxBetEvents","toConsumableArray","sort","_getMyEarningLog","_getSystemAnnouncement","releaseScroll","renewScroll","_getTaskList","_getMyTaskList","_callee7","_context7","console","error","Error","_transfer2","_callee8","_context8","transfer","_getInvitationResponse","_callee9","introduceInfo","_context9","code","myInviter","invitationList","_getMyBonusResponse","_callee10","_context10","_getMyTaskResponse","_callee11","_context11","_setInvitor","_callee12","invitor","_context12","_x3","_gainTaskEarning","_callee13","_context13","batchDrawStaticProfit","_gainQuoterBonus","_callee14","_context14","_addTask","_callee15","taskInfo","price","_context15","buyScroll","_x4","_getGamePlayRankList","_callee16","_context16","myRank","rankList","_getRefererRankList","_callee17","_context17","module","exports","p"],"mappings":"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","file":"static/js/16.fa48d140.chunk.js","sourcesContent":["import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\n\r\nimport OpenBoxContract from '../contracts/OpenBox.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function openBoxContract() {\r\n    const contract = TruffleContract(OpenBoxContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function loadGame(issueNo) {\r\n    const contract = await openBoxContract();\r\n    return contract.loadGame(issueNo);\r\n}\r\n\r\nexport async function betEvent(_from) {\r\n    const contract = await openBoxContract();\r\n    const event = contract.Bet({from: _from}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    return getAsync();\r\n}\r\n\r\nexport async function openBoxRewardEvent() {\r\n    const contract = await openBoxContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.Reward({target: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'OpenBoxReward_' + i;\r\n        e.from = log.args['target'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['award'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['awardTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.KP_BET_REWARD;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function openBoxBetEvent() {\r\n    const contract = await openBoxContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.Bet({from: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'OpenBox_' + i;\r\n        e.from = log.args['from'];\r\n        e.amount = '-' + _.ceil(web3.fromWei(log.args['value'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['betTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.KP_BET;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","export function compareByTime() {\r\n    return function(obj1,obj2){\r\n        var value1 = obj1['time'];\r\n        var value2 = obj2['time'];\r\n        return value2 - value1;     // 降序\r\n    }\r\n}","import TruffleContract from 'truffle-contract';\r\nimport BigNumber from \"bignumber.js\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nimport PersonalCenterContract from '../contracts/PersonalCenter.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport TaskImage1 from '../../home/styles/app/myTask/1@3x.png';\r\nimport TaskImage2 from '../../home/styles/app/myTask/2@3x.png';\r\nimport TaskImage3 from '../../home/styles/app/myTask/3@3x.png';\r\nimport TaskImage4 from '../../home/styles/app/myTask/4@3x.png';\r\nconst TaskImages = {\r\n    TaskImage1,\r\n    TaskImage2,\r\n    TaskImage3,\r\n    TaskImage4,\r\n};\r\n\r\nexport async function personalCenterContract() {\r\n    const contract = TruffleContract(PersonalCenterContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nfunction totalProfit(tspf, tf) {\r\n    if (!tf) {\r\n        return tspf;\r\n    }\r\n    return tspf.plus(tf);\r\n}\r\n\r\nfunction myScroll(scrollType, scrollData, tasks, latestGain, web3) {\r\n    var ids = scrollData[0];\r\n    if(ids.length === 0) {\r\n        return latestGain;\r\n    }\r\n\r\n    var name;\r\n    var rate;\r\n    var times;\r\n    switch(scrollType) {\r\n        case 0:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            rate = 6;\r\n            times = 30;\r\n            break;\r\n        case 1:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            rate = 8;\r\n            times = 30;\r\n            break;\r\n        case 2:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            rate = 15;\r\n            times = 30;\r\n            break;\r\n        case 3:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            rate = 20;\r\n            times = 30;\r\n            break;\r\n        default:\r\n    }\r\n\r\n    for(var i = 0; i < ids.length; i++) {\r\n        var id = ids[i];\r\n        // 如果id=0,说明任务已经被删除\r\n        if(id.toNumber() === 0) {\r\n            continue;\r\n        }\r\n        \r\n        var task = {};\r\n        task.scrollType = scrollType;\r\n        task.id = id;\r\n        task.name = name;\r\n        task.rate = rate;\r\n        task.times = times;\r\n        task.remainTimes = scrollData[1][i].toNumber();\r\n        task.latestGain = scrollData[2][i];\r\n        if(task.latestGain.toNumber() > latestGain.toNumber()) {\r\n            latestGain = task.latestGain;\r\n        }\r\n        task.tti = scrollData[3][i];\r\n        task.staticProfitOfOneTime = _.ceil(web3.fromWei(scrollData[4][i].toNumber(), 'ether'), 3);\r\n        task.staticProfit = _.ceil(web3.fromWei(scrollData[5][i].toNumber(), 'ether'), 3);\r\n        tasks.push(task);\r\n    }\r\n    return latestGain;    \r\n}\r\n\r\nexport async function myScrolls() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const scrollData0 = await contract.myScrolls(0);\r\n    const scrollData1 = await contract.myScrolls(1);\r\n    const scrollData2 = await contract.myScrolls(2);\r\n    const scrollData3 = await contract.myScrolls(3);\r\n\r\n    var myTaskResponse = {};\r\n\r\n    // 累加总收益\r\n    var tspf = new BigNumber(0);\r\n    tspf = totalProfit(tspf, scrollData0[6]);\r\n    tspf = totalProfit(tspf, scrollData1[6]);\r\n    tspf = totalProfit(tspf, scrollData2[6]);\r\n    tspf = totalProfit(tspf, scrollData3[6]);\r\n\r\n    // 任务列表\r\n    var tasks = [];\r\n    var latestGain = new BigNumber(0);\r\n    latestGain = myScroll(0, scrollData0, tasks, latestGain, web3);\r\n    latestGain = myScroll(1, scrollData1, tasks, latestGain, web3);\r\n    latestGain = myScroll(2, scrollData2, tasks, latestGain, web3);\r\n    latestGain = myScroll(3, scrollData3, tasks, latestGain, web3);\r\n\r\n    myTaskResponse.todayTotalIncome = _.ceil(web3.fromWei(tspf.toNumber(), 'ether'), 3);\r\n    myTaskResponse.taskList = tasks;\r\n    myTaskResponse.latestGain = latestGain.eq(0) ? getLang().HOME_PAGE.NO_GAIN_DATE : moment(new Date(latestGain.toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n    return myTaskResponse;\r\n}\r\n\r\nexport async function getQuarterRewards() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.getQuarterRewards();\r\n    const enddays = datas[0];\r\n    const rewards = datas[1];\r\n    const draweds = datas[2];\r\n    const availableRewards = datas[3];\r\n    var result = {};\r\n    var quarters = [];\r\n    if(enddays.length === 0) {\r\n        return result;\r\n    }\r\n    for(var i = 0; i < enddays.length; i++) {\r\n        var quarter = {};\r\n        quarter.quarterName = getLang().HOME_PAGE.QUARTER + ' ' + (i + 1);\r\n        quarter.endday = moment(new Date(enddays[i].toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n        quarter.reward = _.ceil(web3.fromWei(rewards[i].toNumber(), 'ether'), 3);\r\n        quarter.drawed = draweds[i];\r\n        quarter.availableReward = _.ceil(web3.fromWei(availableRewards[i].toNumber(), 'ether'), 3);\r\n        quarters.push(quarter);\r\n    }\r\n    result.availableTotal = _.ceil(web3.fromWei(datas[4].toNumber(), 'ether'), 3);\r\n    result.bonusList = quarters;\r\n    return result;\r\n}\r\n\r\nexport async function drawQuarterRewards() {\r\n    const contract = await personalCenterContract();\r\n    return contract.drawQuarterRewards();\r\n}\r\n\r\nexport async function scrolls() {\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.scrolls();\r\n    var ss = [];\r\n    for(var i = 0; i < datas[0].length; i++) {\r\n        var scroll = {};\r\n        scroll.id = i;\r\n        scroll.tti = _.ceil(web3.fromWei(datas[0][i].toNumber(), 'ether'), 3);\r\n        scroll.rate = datas[1][i].toNumber();\r\n        scroll.limit = datas[2][i].toNumber();\r\n        scroll.times = datas[3][i].toNumber();\r\n        scroll.canBuy = datas[4][i].toNumber();\r\n        if(i == 0) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            scroll.imageUrl = TaskImages.TaskImage1;\r\n        } else if (i == 1) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            scroll.imageUrl = TaskImages.TaskImage2;\r\n        } else if (i == 2) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            scroll.imageUrl = TaskImages.TaskImage3;\r\n        } else if (i == 3) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            scroll.imageUrl = TaskImages.TaskImage4;\r\n        }\r\n        ss.push(scroll);\r\n    }\r\n    return ss;\r\n} ","import TruffleContract from 'truffle-contract';\r\n\r\nimport IntroduceContract from '../contracts/Introduce.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\n\r\nexport async function introduceContract() {\r\n    const contract = TruffleContract(IntroduceContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function myInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.myInviteCode();\r\n}\r\n\r\nexport async function myIntroducer() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroducer();\r\n}\r\n\r\nexport async function createInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.createInviteCode();\r\n}\r\n\r\nexport async function setInviteCode(inviteCode) {\r\n    const contract = await introduceContract();\r\n    return contract.setInviteCode(inviteCode);\r\n}\r\n\r\nexport async function myIntroduceInfo() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroduceInfo();\r\n}\r\n\r\n","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport AchievementTopNDataContract from '../contracts/AchievementTopNData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function achievementTopNDataContract() {\r\n    const contract = TruffleContract(AchievementTopNDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function achievementTopN() {\r\n    const contract = await achievementTopNDataContract();\r\n    const datas = await contract.topN();\r\n    const topIntroduces = datas[0];\r\n    const topAchievements = datas[1];\r\n    var rankInfos = [];\r\n    for(var i = 0; i < topIntroduces.length; i++) {\r\n        var rankInfo = {};\r\n        var account = topIntroduces[i];\r\n        if (account === '0x0000000000000000000000000000000000000000') {\r\n            rankInfo.account = '0x0';\r\n        } else {\r\n            rankInfo.account = account.slice(0, 8).concat('...').concat(account.slice(34));\r\n        }\r\n        rankInfo.amount = _.ceil(web3.fromWei(topAchievements[i].toNumber(), 'ether'), 3);\r\n        rankInfos.push(rankInfo);\r\n    }\r\n    return rankInfos;\r\n}\r\n\r\nexport async function weekAchievementData() {\r\n    const contract = await achievementTopNDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const achievement = await contract.weekData();\r\n    var rankInfo = {};\r\n    rankInfo.account = accounts[0];\r\n    rankInfo.amount = _.ceil(web3.fromWei(achievement.toNumber(), 'ether'), 3);\r\n    return rankInfo;\r\n}\r\n","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport BetValueTopNDataContract from '../contracts/BetValueTopNData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function betValueTopNDataContract() {\r\n    const contract = TruffleContract(BetValueTopNDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function betTopN() {\r\n    const contract = await betValueTopNDataContract();\r\n    const datas = await contract.topN();\r\n    const topPlayers = datas[0];\r\n    const topBets = datas[1];\r\n    var rankInfos = [];\r\n    for(var i = 0; i < topPlayers.length; i++) {\r\n        var rankInfo = {};\r\n        var account = topPlayers[i];\r\n        if (account === '0x0000000000000000000000000000000000000000') {\r\n            rankInfo.account = '0x0';\r\n        } else {\r\n            rankInfo.account = account.slice(0, 8).concat('...').concat(account.slice(34));\r\n        }\r\n        rankInfo.amount = _.ceil(web3.fromWei(topBets[i].toNumber(), 'ether'), 3);\r\n        rankInfos.push(rankInfo);\r\n    }\r\n    return rankInfos;\r\n}\r\n\r\nexport async function weekBetData() {\r\n    const contract = await betValueTopNDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const bet = await contract.weekData();\r\n    var rankInfo = {};\r\n    rankInfo.account = accounts[0];\r\n    rankInfo.amount = _.ceil(web3.fromWei(bet.toNumber(), 'ether'), 3);\r\n    return rankInfo;\r\n}\r\n","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nimport ScrollDataContract from '../contracts/ScrollData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function scrollDataContract() {\r\n    const contract = TruffleContract(ScrollDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function buyScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const web3 = await getWeb3();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.BuyScroll({_buyer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'BuyScroll_' + i;\r\n        e.from = log.args['_buyer'];\r\n        e.amount = '-' + _.ceil(web3.fromWei(log.args['_total'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_buyTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.GET_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function releaseScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const web3 = await getWeb3();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.ReleaseScroll({_releaser: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'ReleaseScroll_' + i;\r\n        e.from = log.args['_releaser'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_amount'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_releaseTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.RELEASE_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function renewScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.RenewScroll({_renewer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'RenewScroll_' + i;\r\n        e.from = log.args['_renewer'];\r\n        e.amount = '0';\r\n        e.time = log.args['_renewTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.RENEW_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\n","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport DonationDataContract from '../contracts/DonationData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function donationDataContract() {\r\n    const contract = TruffleContract(DonationDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function donateEvent() {\r\n    const contract = await donationDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.DonateEvent({_donor: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'Donation_' + i;\r\n        e.from = log.args['_donor'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_tokenAmount'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_donateTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.DONATE +  _.ceil(web3.fromWei(log.args['_ttWeiAmount'].toNumber(), 'ether'), 3) + \"TT\";\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport InstitutionDataContract from '../contracts/InstitutionData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function institutionDataContract() {\r\n    const contract = TruffleContract(InstitutionDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function rewardEvent() {\r\n    const contract = await institutionDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.Reward({_to: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        var rewardType = log.args['_rewardType'].toNumber();\r\n        var eventName = '';\r\n        switch(rewardType) {\r\n            case 0:\r\n                eventName = getLang().LOGS.GAIN_STATIC_PROFIT;\r\n                break;\r\n            case 1:\r\n                eventName = getLang().LOGS.GET_TASK_REWARD;\r\n                break;\r\n            case 2: \r\n                eventName = getLang().LOGS.GAIN_STATIC_PROFIT_REWARD;\r\n                break;\r\n            case 3:\r\n                eventName = getLang().LOGS.POINT_OF_KP_BET;\r\n                break;\r\n            case 4:\r\n                eventName = getLang().LOGS.POINT_OF_NN_BET;\r\n                break;\r\n\r\n        }\r\n        e.key = 'IntroduceReward_' + i;\r\n        e.from = log.args['_from'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_reward'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_rewardTime'].toNumber() * 1000;\r\n        e.eventName = eventName;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function drawQuarterRewardEvent() {\r\n    const contract = await institutionDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.DrawQuarterReward({_drawer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'DrawQuarterReward_' + i;\r\n        e.from = log.args['_drawer'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_reward'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_drawTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.GAIN_QUARTER_REWARD;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport DonationContract from '../contracts/Donation.json';\r\nimport { getProviderAndAccounts, sendTransaction, estimateGas } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function donationContract() {\r\n    const contract = TruffleContract(DonationContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function donationInfo() {\r\n    const contract = await donationContract();\r\n    const web3 = await getWeb3();\r\n    const datas = await contract.donationInfo();\r\n    var info = {};\r\n    info.currentDay = datas[0].toNumber();\r\n    info.rate = datas[1].toNumber();\r\n    info.remainTokenOfDay = web3.fromWei(datas[2].toNumber(), \"ether\");\r\n    info.tokenOfDay = web3.fromWei(datas[3].toNumber(), \"ether\");\r\n    info.ttLimit = web3.fromWei(datas[4].toNumber(), \"ether\");\r\n    return info;\r\n}\r\n\r\nexport async function donate(param) {\r\n    const contract = await donationContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    // 交易数据\r\n    var transactionObject = {};\r\n    transactionObject.from = accounts[0];\r\n    transactionObject.to = contract.address;\r\n    transactionObject.value = web3.toWei(param.ttAmount,'ether');\r\n    return sendTransaction(transactionObject);\r\n    \r\n}","import {\r\n    InvitationInfo,\r\n    MyBonusResponse,\r\n    MyTaskResponse,\r\n    TaskInfo,\r\n    MyTaskInfo,\r\n    TransferParam, \r\n    RankResponse, \r\n    RankInfo, \r\n    TradingLog, \r\n    DonateParam,\r\n    DonationInfo,\r\n} from \"@web3game/typings/home\";\r\nimport {HomeAPI} from \"./HomeAPI\";\r\nimport { myScrolls, getQuarterRewards, drawQuarterRewards, scrolls } from \"../contractHelps/personalCenterContract\";\r\nimport { transfer, buyScroll } from \"../contractHelps/tokenContract\";\r\nimport { batchDrawStaticProfit, releaseScroll, renewScroll } from \"../contractHelps/institutionContract\";\r\nimport { myIntroduceInfo, setInviteCode } from \"../contractHelps/introduceContract\";\r\nimport { achievementTopN, weekAchievementData } from \"../contractHelps/achievementTopNDataContract\";\r\nimport { betTopN, weekBetData } from \"../contractHelps/betValueTopNData\";\r\nimport { buyScrollEvent, releaseScrollEvent, renewScrollEvent } from \"../contractHelps/scrollDataContract\";\r\nimport { donateEvent } from \"../contractHelps/donationDataContract\";\r\nimport { rewardEvent, drawQuarterRewardEvent } from \"../contractHelps/InstitutionDataContract\";\r\nimport { openBoxRewardEvent, openBoxBetEvent } from \"../contractHelps/openBoxContract\";\r\nimport { compareByTime } from \"../../common/utils/functions/sort\";\r\nimport { donate, donationInfo } from \"../contractHelps/donationContract\";\r\n\r\nexport class HomeAPIReal implements HomeAPI {\r\n    \r\n    public async getDonationInfo(): Promise<DonationInfo> {\r\n        const info = await donationInfo();\r\n        return info as DonationInfo;\r\n    }\r\n\r\n    public async doDonate(params: DonateParam): Promise<void> {\r\n        return donate(params);\r\n    }\r\n\r\n    public async getTradingLog(): Promise<TradingLog[]> {\r\n        const buyScrollEvents = await buyScrollEvent();\r\n        const releaseScrollEvents = await releaseScrollEvent();\r\n        const renewScrollEvents = await renewScrollEvent();\r\n        const donateEvents = await donateEvent();\r\n        const rewardEvents = await rewardEvent();\r\n        const drawQuarterRewardEvents = await drawQuarterRewardEvent();\r\n        const openBoxRewardEvents = await openBoxRewardEvent();\r\n        const openBoxBetEvents = await openBoxBetEvent();\r\n        var events = [\r\n            ...buyScrollEvents, \r\n            ...releaseScrollEvents, \r\n            ...renewScrollEvents, \r\n            ...donateEvents, \r\n            ...rewardEvents, \r\n            ...drawQuarterRewardEvents,\r\n            ...openBoxRewardEvents,\r\n            ...openBoxBetEvents,\r\n        ];\r\n        // 按时间排序\r\n        events = events.sort(compareByTime());\r\n        return events as TradingLog[];\r\n    }\r\n\r\n    public async getMyEarningLog(): Promise<TradingLog[]> {\r\n        return [];\r\n    }\r\n\r\n    public async getSystemAnnouncement(): Promise<TradingLog[]> {\r\n        return [];\r\n    }\r\n\r\n    releaseScroll(task: MyTaskInfo): Promise<void> {\r\n        return releaseScroll(task);\r\n    }\r\n\r\n    renewScroll(task: MyTaskInfo): Promise<void> {\r\n        return renewScroll(task);\r\n    }\r\n\r\n    async getTaskList(): Promise<TaskInfo[]> {\r\n        return scrolls();\r\n\r\n    }\r\n\r\n    async getMyTaskList(): Promise<MyTaskInfo[]> {\r\n        console.error(Error('not implementation'));\r\n        return [];\r\n    }\r\n\r\n    public async transfer(params: TransferParam) {\r\n        return transfer(params);\r\n    }\r\n\r\n    public async getInvitationResponse(): Promise<InvitationInfo> {\r\n        const introduceInfo = await myIntroduceInfo();\r\n        const result: InvitationInfo = {\r\n            code: introduceInfo[0],\r\n            myInviter: introduceInfo[1],\r\n            invitationList: introduceInfo[2]\r\n        };\r\n        return result;\r\n    }\r\n\r\n    public async getMyBonusResponse(): Promise<MyBonusResponse> {\r\n        return await getQuarterRewards() as MyBonusResponse;\r\n    }\r\n\r\n    public async getMyTaskResponse(): Promise<MyTaskResponse> {\r\n        const result: MyTaskResponse = await myScrolls();\r\n        return result;\r\n    }\r\n\r\n    public async setInvitor(invitor: string): Promise<void> {\r\n        return setInviteCode(invitor);\r\n    }\r\n\r\n    public async gainTaskEarning(): Promise<void> {\r\n        return batchDrawStaticProfit();\r\n    }\r\n\r\n    public async gainQuoterBonus(): Promise<void> {\r\n        return drawQuarterRewards();\r\n    }\r\n\r\n    public async addTask(taskInfo: TaskInfo): Promise<void> {\r\n        const scrollType = taskInfo.id;\r\n        const price = taskInfo.tti;\r\n        return buyScroll(scrollType, price);\r\n    }\r\n\r\n    public async getGamePlayRankList(): Promise<RankResponse> {\r\n        const rankInfos: RankInfo[] = await betTopN();\r\n        const rankInfo: RankInfo = await weekBetData();\r\n        return {myRank: rankInfo, rankList: rankInfos} as RankResponse;\r\n    }\r\n\r\n    public async getRefererRankList(): Promise<RankResponse> {\r\n        const rankInfos: RankInfo[] = await achievementTopN();\r\n        const rankInfo: RankInfo = await weekAchievementData();\r\n        return {myRank: rankInfo, rankList: rankInfos} as RankResponse;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default new HomeAPIReal();\r\n","module.exports = __webpack_public_path__ + \"static/media/1@3x.0698e368.png\";","module.exports = __webpack_public_path__ + \"static/media/2@3x.b236b5ce.png\";","module.exports = __webpack_public_path__ + \"static/media/3@3x.0cf2f29a.png\";","module.exports = __webpack_public_path__ + \"static/media/4@3x.717151aa.png\";"],"sourceRoot":""}