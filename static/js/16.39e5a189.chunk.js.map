{"version":3,"sources":["home/styles/app/myTask/1@3x.png","home/styles/app/myTask/2@3x.png","home/styles/app/myTask/3@3x.png","home/styles/app/myTask/4@3x.png","apis/contractHelps/openBoxContract.js","common/utils/functions/sort.js","apis/helpers/getWeb3.js","apis/helpers/web3Helpers.js","apis/contractHelps/institutionContract.js","apis/contractHelps/personalCenterContract.js","apis/contractHelps/achievementTopNDataContract.js","apis/contractHelps/betValueTopNData.js","apis/contractHelps/scrollDataContract.js","apis/contractHelps/donationDataContract.js","apis/contractHelps/InstitutionDataContract.js","apis/contractHelps/donationContract.js","apis/home/HomeAPIReal.ts","apis/contractHelps/tokenContract.js","apis/contractHelps/introduceContract.js"],"names":["module","exports","__webpack_require__","p","openBoxContract","_openBoxContract","apply","this","arguments","_callee","contract","_ref","currentProvider","accounts","D_workspace_web3game_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","TruffleContract","OpenBoxContract","getProviderAndAccounts","sent","setProvider","defaults","from","abrupt","deployed","stop","loadGame","_x","_loadGame","_callee2","issueNo","_context2","betEvent","_x2","_betEvent","_callee3","_from","event","getAsync","_context3","Bet","fromBlock","toBlock","promisify","get","bind","openBoxRewardEvent","_openBoxRewardEvent","_callee4","_ref2","web3","logs","events","i","log","e","_context4","getWeb3","Reward","target","length","key","args","amount","_","ceil","fromWei","toNumber","time","eventName","getLang","LOGS","KP_BET_REWARD","push","openBoxBetEvent","_openBoxBetEvent","_callee5","_ref3","_context5","KP_BET","compareByTime","obj1","obj2","value1","d","__webpack_exports__","web3Instance","Object","D_workspace_web3game_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","mark","context","web3Provider","window","global","ethereum","enable","t0","Error","console","Web3","providers","HttpProvider","WEB3","NO_WEB3_PROVIDER","getAccounts","_getAccounts","eth","getAccountsAsync","getBalance","_getBalance","getBalanceAsync","_getProviderAndAccounts","estimateGas","_estimateGas","transactionObject","_ref4","estimateGasAsync","sendTransaction","_sendTransaction","_ref5","gas","sendTransactionAsync","institutionContract","_institutionContract","InstitutionContract","batchDrawStaticProfit","_batchDrawStaticProfit","releaseScroll","_releaseScroll","task","scrollType","id","renewScroll","_renewScroll","TaskImages","TaskImage1","TaskImage2","TaskImage3","TaskImage4","personalCenterContract","_personalCenterContract","regenerator_default","PersonalCenterContract","totalProfit","tspf","tf","plus","myScroll","scrollData","tasks","latestGain","name","rate","times","ids","HOME_PAGE","PRODUCT_NAME_0","PRODUCT_NAME_1","PRODUCT_NAME_2","PRODUCT_NAME_3","remainTimes","tti","staticProfitOfOneTime","staticProfit","myScrolls","_myScrolls","scrollData0","scrollData1","scrollData2","scrollData3","myTaskResponse","BigNumber","todayTotalIncome","taskList","eq","NO_GAIN_DATE","moment","Date","format","getQuarterRewards","_getQuarterRewards","datas","enddays","rewards","draweds","availableRewards","result","quarters","quarter","quarterName","QUARTER","endday","reward","drawed","availableReward","availableTotal","bonusList","drawQuarterRewards","_drawQuarterRewards","scrolls","_scrolls","ss","scroll","limit","canBuy","imageUrl","achievementTopNDataContract","_achievementTopNDataContract","AchievementTopNDataContract","achievementTopN","_achievementTopN","topIntroduces","topAchievements","rankInfos","rankInfo","account","topN","slice","concat","weekAchievementData","_weekAchievementData","achievement","weekData","betValueTopNDataContract","_betValueTopNDataContract","BetValueTopNDataContract","betTopN","_betTopN","topPlayers","topBets","weekBetData","_weekBetData","bet","scrollDataContract","_scrollDataContract","ScrollDataContract","buyScrollEvent","_buyScrollEvent","BuyScroll","_buyer","GET_TASK","releaseScrollEvent","_releaseScrollEvent","ReleaseScroll","_releaser","RELEASE_TASK","renewScrollEvent","_renewScrollEvent","RenewScroll","_renewer","RENEW_TASK","donationDataContract","_donationDataContract","DonationDataContract","donateEvent","_donateEvent","DonateEvent","_donor","DONATE","institutionDataContract","_institutionDataContract","InstitutionDataContract","rewardEvent","_rewardEvent","rewardType","_to","GAIN_STATIC_PROFIT","GET_TASK_REWARD","GAIN_STATIC_PROFIT_REWARD","POINT_OF_KP_BET","POINT_OF_NN_BET","drawQuarterRewardEvent","_drawQuarterRewardEvent","DrawQuarterReward","_drawer","GAIN_QUARTER_REWARD","donationContract","_donationContract","DonationContract","donatable","_donatable","donationInfo","_donationInfo","info","currentDay","remainTokenOfDay","tokenOfDay","ttLimit","donate","_donate","param","donation","toHex","deviceId","value","toWei","ttAmount","HomeAPIReal","classCallCheck","createClass","_donatable2","asyncToGenerator","_getDonationInfo","_doDonate","params","_getTradingLog","buyScrollEvents","releaseScrollEvents","renewScrollEvents","donateEvents","rewardEvents","drawQuarterRewardEvents","openBoxRewardEvents","openBoxBetEvents","toConsumableArray","sort","_getMyEarningLog","_getSystemAnnouncement","_callee6","_context6","_getTaskList","_callee7","_context7","_getMyTaskList","_callee8","_context8","error","_transfer2","_callee9","_context9","transfer","_getInvitationResponse","_callee10","introduceInfo","_context10","myIntroduceInfo","code","myInviter","invitationList","_getMyBonusResponse","_callee11","_context11","_getMyTaskResponse","_callee12","_context12","_setInvitor","_callee13","invitor","_context13","setInviteCode","_x3","_gainTaskEarning","_callee14","_context14","_gainQuoterBonus","_callee15","_context15","_addTask","_callee16","taskInfo","price","_context16","buyScroll","_x4","_getGamePlayRankList","_callee17","_context17","myRank","rankList","_getRefererRankList","_callee18","_context18","tokenContract","_tokenContract","TokenContract","getTokenBalance","_getTokenBalance","balanceOf","_buyScroll","institution","address","_x5","_x6","_x7","_x8","_bet","betAddress","betType","nums","amounts","_x9","_transfer","transferParam","type","to","toAccount","introduceContract","_introduceContract","IntroduceContract","myIntroducer","_myIntroducer","_setInviteCode","inviteCode","_myIntroduceInfo"],"mappings":"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","file":"static/js/16.39e5a189.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1@3x.0698e368.png\";","module.exports = __webpack_public_path__ + \"static/media/2@3x.b236b5ce.png\";","module.exports = __webpack_public_path__ + \"static/media/3@3x.0cf2f29a.png\";","module.exports = __webpack_public_path__ + \"static/media/4@3x.717151aa.png\";","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\n\r\nimport OpenBoxContract from '../contracts/OpenBox.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function openBoxContract() {\r\n    const contract = TruffleContract(OpenBoxContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function loadGame(issueNo) {\r\n    const contract = await openBoxContract();\r\n    return contract.loadGame(issueNo);\r\n}\r\n\r\nexport async function betEvent(_from) {\r\n    const contract = await openBoxContract();\r\n    const event = contract.Bet({from: _from}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    return getAsync();\r\n}\r\n\r\nexport async function openBoxRewardEvent() {\r\n    const contract = await openBoxContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.Reward({target: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'OpenBoxReward_' + i;\r\n        e.from = log.args['target'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['award'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['awardTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.KP_BET_REWARD;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function openBoxBetEvent() {\r\n    const contract = await openBoxContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.Bet({from: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'OpenBox_' + i;\r\n        e.from = log.args['from'];\r\n        e.amount = '-' + _.ceil(web3.fromWei(log.args['value'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['betTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.KP_BET;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","export function compareByTime() {\r\n    return function(obj1,obj2){\r\n        var value1 = obj1['time'];\r\n        var value2 = obj2['time'];\r\n        return value2 - value1;     // 降序\r\n    }\r\n}","import Web3 from 'web3'\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nlet web3Instance = null;\r\n// const thunderTestNetwork = \"18\";\r\n// const thunderMainNetwork = \"108\";\r\n\r\nexport const getWeb3 = async () => {\r\n  if (web3Instance) {  \r\n    return web3Instance;\r\n  }\r\n  const context = (typeof window === 'object') ? window : global;\r\n  var web3Provider;\r\n\r\n  if (context.ethereum) {\r\n    web3Provider = context.ethereum;\r\n\r\n    try {\r\n      // 请求用户账号授权\r\n      await context.ethereum.enable();\r\n    } catch (error) {\r\n      // 用户拒绝了访问\r\n      throw new Error(\"User denied account access.\");\r\n    }\r\n  }\r\n  // 老版 MetaMask\r\n  else if (typeof context.web3 !== 'undefined') {\r\n    web3Provider = context.web3.currentProvider;\r\n    console.log('Injected web3 detected.');\r\n  } else {\r\n    // Fallback to localhost if no web3 injection. We've configured this to\r\n    // use the development console's port by default.\r\n    web3Provider = new Web3.providers.HttpProvider('http://127.0.0.1:8545');\r\n    // throw new Error('No web3 instance injected, using Local web3.');\r\n    throw new Error(getLang().WEB3.NO_WEB3_PROVIDER);\r\n  }\r\n  // throw new Error(web3Provider.isTrust);\r\n  // // const networkVersion = web3Provider.networkVersion;\r\n  // // if(networkVersion !== thunderTestNetwork && networkVersion !== thunderMainNetwork) {\r\n  // //   throw new Error(getLang().WEB3.WRONG_NETWORK);\r\n  // // }\r\n\r\n  web3 = new Web3(web3Provider);\r\n\r\n  web3Instance = web3;\r\n\r\n  return web3;\r\n};\r\n","import { promisify } from 'util';\r\nimport { getWeb3 } from \"./getWeb3\";\r\n\r\nexport async function getAccounts() {\r\n    const { eth } = await getWeb3();\r\n    const getAccountsAsync = promisify(eth.getAccounts);\r\n    return getAccountsAsync();\r\n}\r\n\r\nexport async function getBalance() {\r\n    const { eth } = await getWeb3();\r\n    const accounts = await getAccounts();\r\n    const getBalanceAsync = promisify(eth.getBalance);\r\n    return getBalanceAsync(accounts[0]);\r\n}\r\n\r\nexport async function getProviderAndAccounts() {\r\n    const { currentProvider } = await getWeb3();\r\n    const accounts = await getAccounts();\r\n    return {currentProvider, accounts};\r\n}\r\n\r\nexport async function estimateGas(transactionObject) {\r\n    const { eth } = await getWeb3();\r\n    const estimateGasAsync = promisify(eth.estimateGas);\r\n    return estimateGasAsync(transactionObject);\r\n}\r\n\r\nexport async function sendTransaction(transactionObject) {\r\n    const { eth } = await getWeb3();\r\n    const gas = await estimateGas(transactionObject);\r\n    transactionObject.gas = gas;\r\n    const sendTransactionAsync = promisify(eth.sendTransaction);\r\n    return sendTransactionAsync(transactionObject);\r\n}","import TruffleContract from 'truffle-contract';\r\nimport InstitutionContract from '../contracts/Institution.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\n\r\nexport async function institutionContract() {\r\n    const contract = TruffleContract(InstitutionContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function batchDrawStaticProfit() {\r\n    const contract = await institutionContract();\r\n    return contract.batchDrawStaticProfit();\r\n}\r\n\r\nexport async function releaseScroll(task) {\r\n    const contract = await institutionContract();\r\n    return contract.releaseScroll(task.scrollType, task.id);\r\n}\r\n\r\nexport async function renewScroll(task) {\r\n    const contract = await institutionContract();\r\n    return contract.renewScroll(task.scrollType, task.id);\r\n}\r\n\r\n\r\n","import TruffleContract from 'truffle-contract';\r\nimport BigNumber from \"bignumber.js\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nimport PersonalCenterContract from '../contracts/PersonalCenter.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport TaskImage1 from '../../home/styles/app/myTask/1@3x.png';\r\nimport TaskImage2 from '../../home/styles/app/myTask/2@3x.png';\r\nimport TaskImage3 from '../../home/styles/app/myTask/3@3x.png';\r\nimport TaskImage4 from '../../home/styles/app/myTask/4@3x.png';\r\nconst TaskImages = {\r\n    TaskImage1,\r\n    TaskImage2,\r\n    TaskImage3,\r\n    TaskImage4,\r\n};\r\n\r\nexport async function personalCenterContract() {\r\n    const contract = TruffleContract(PersonalCenterContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nfunction totalProfit(tspf, tf) {\r\n    if (!tf) {\r\n        return tspf;\r\n    }\r\n    return tspf.plus(tf);\r\n}\r\n\r\nfunction myScroll(scrollType, scrollData, tasks, latestGain, web3) {\r\n    var ids = scrollData[0];\r\n    if(ids.length === 0) {\r\n        return latestGain;\r\n    }\r\n\r\n    var name;\r\n    var rate;\r\n    var times;\r\n    switch(scrollType) {\r\n        case 0:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            rate = 6;\r\n            times = 30;\r\n            break;\r\n        case 1:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            rate = 8;\r\n            times = 30;\r\n            break;\r\n        case 2:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            rate = 15;\r\n            times = 30;\r\n            break;\r\n        case 3:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            rate = 20;\r\n            times = 30;\r\n            break;\r\n        default:\r\n    }\r\n\r\n    for(var i = 0; i < ids.length; i++) {\r\n        var id = ids[i];\r\n        // 如果id=0,说明任务已经被删除\r\n        if(id.toNumber() === 0) {\r\n            continue;\r\n        }\r\n        \r\n        var task = {};\r\n        task.scrollType = scrollType;\r\n        task.id = id;\r\n        task.name = name;\r\n        task.rate = rate;\r\n        task.times = times;\r\n        task.remainTimes = scrollData[1][i].toNumber();\r\n        task.latestGain = scrollData[2][i];\r\n        if(task.latestGain.toNumber() > latestGain.toNumber()) {\r\n            latestGain = task.latestGain;\r\n        }\r\n        task.tti = scrollData[3][i];\r\n        task.staticProfitOfOneTime = _.ceil(web3.fromWei(scrollData[4][i].toNumber(), 'ether'), 3);\r\n        task.staticProfit = _.ceil(web3.fromWei(scrollData[5][i].toNumber(), 'ether'), 3);\r\n        tasks.push(task);\r\n    }\r\n    return latestGain;    \r\n}\r\n\r\nexport async function myScrolls() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const scrollData0 = await contract.myScrolls(0);\r\n    const scrollData1 = await contract.myScrolls(1);\r\n    const scrollData2 = await contract.myScrolls(2);\r\n    const scrollData3 = await contract.myScrolls(3);\r\n\r\n    var myTaskResponse = {};\r\n\r\n    // 累加总收益\r\n    var tspf = new BigNumber(0);\r\n    tspf = totalProfit(tspf, scrollData0[6]);\r\n    tspf = totalProfit(tspf, scrollData1[6]);\r\n    tspf = totalProfit(tspf, scrollData2[6]);\r\n    tspf = totalProfit(tspf, scrollData3[6]);\r\n\r\n    // 任务列表\r\n    var tasks = [];\r\n    var latestGain = new BigNumber(0);\r\n    latestGain = myScroll(0, scrollData0, tasks, latestGain, web3);\r\n    latestGain = myScroll(1, scrollData1, tasks, latestGain, web3);\r\n    latestGain = myScroll(2, scrollData2, tasks, latestGain, web3);\r\n    latestGain = myScroll(3, scrollData3, tasks, latestGain, web3);\r\n\r\n    myTaskResponse.todayTotalIncome = _.ceil(web3.fromWei(tspf.toNumber(), 'ether'), 3);\r\n    myTaskResponse.taskList = tasks;\r\n    myTaskResponse.latestGain = latestGain.eq(0) ? getLang().HOME_PAGE.NO_GAIN_DATE : moment(new Date(latestGain.toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n    return myTaskResponse;\r\n}\r\n\r\nexport async function getQuarterRewards() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.getQuarterRewards();\r\n    const enddays = datas[0];\r\n    const rewards = datas[1];\r\n    const draweds = datas[2];\r\n    const availableRewards = datas[3];\r\n    var result = {};\r\n    var quarters = [];\r\n    if(enddays.length === 0) {\r\n        return result;\r\n    }\r\n    for(var i = 0; i < enddays.length; i++) {\r\n        var quarter = {};\r\n        quarter.quarterName = getLang().HOME_PAGE.QUARTER + ' ' + (i + 1);\r\n        quarter.endday = moment(new Date(enddays[i].toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n        quarter.reward = _.ceil(web3.fromWei(rewards[i].toNumber(), 'ether'), 3);\r\n        quarter.drawed = draweds[i];\r\n        quarter.availableReward = _.ceil(web3.fromWei(availableRewards[i].toNumber(), 'ether'), 3);\r\n        quarters.push(quarter);\r\n    }\r\n    result.availableTotal = _.ceil(web3.fromWei(datas[4].toNumber(), 'ether'), 3);\r\n    result.bonusList = quarters;\r\n    return result;\r\n}\r\n\r\nexport async function drawQuarterRewards() {\r\n    const contract = await personalCenterContract();\r\n    return contract.drawQuarterRewards();\r\n}\r\n\r\nexport async function scrolls() {\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.scrolls();\r\n    var ss = [];\r\n    for(var i = 0; i < datas[0].length; i++) {\r\n        var scroll = {};\r\n        scroll.id = i;\r\n        scroll.tti = _.ceil(web3.fromWei(datas[0][i].toNumber(), 'ether'), 3);\r\n        scroll.rate = datas[1][i].toNumber();\r\n        scroll.limit = datas[2][i].toNumber();\r\n        scroll.times = datas[3][i].toNumber();\r\n        scroll.canBuy = datas[4][i].toNumber();\r\n        if(i == 0) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            scroll.imageUrl = TaskImages.TaskImage1;\r\n        } else if (i == 1) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            scroll.imageUrl = TaskImages.TaskImage2;\r\n        } else if (i == 2) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            scroll.imageUrl = TaskImages.TaskImage3;\r\n        } else if (i == 3) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            scroll.imageUrl = TaskImages.TaskImage4;\r\n        }\r\n        ss.push(scroll);\r\n    }\r\n    return ss;\r\n} ","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport AchievementTopNDataContract from '../contracts/AchievementTopNData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function achievementTopNDataContract() {\r\n    const contract = TruffleContract(AchievementTopNDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function achievementTopN() {\r\n    const contract = await achievementTopNDataContract();\r\n    const datas = await contract.topN();\r\n    const topIntroduces = datas[0];\r\n    const topAchievements = datas[1];\r\n    var rankInfos = [];\r\n    for(var i = 0; i < topIntroduces.length; i++) {\r\n        var rankInfo = {};\r\n        var account = topIntroduces[i];\r\n        if (account === '0x0000000000000000000000000000000000000000') {\r\n            rankInfo.account = '0x0';\r\n        } else {\r\n            rankInfo.account = account.slice(0, 8).concat('...').concat(account.slice(34));\r\n        }\r\n        rankInfo.amount = _.ceil(web3.fromWei(topAchievements[i].toNumber(), 'ether'), 3);\r\n        rankInfos.push(rankInfo);\r\n    }\r\n    return rankInfos;\r\n}\r\n\r\nexport async function weekAchievementData() {\r\n    const contract = await achievementTopNDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const achievement = await contract.weekData();\r\n    var rankInfo = {};\r\n    rankInfo.account = accounts[0];\r\n    rankInfo.amount = _.ceil(web3.fromWei(achievement.toNumber(), 'ether'), 3);\r\n    return rankInfo;\r\n}\r\n","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport BetValueTopNDataContract from '../contracts/BetValueTopNData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function betValueTopNDataContract() {\r\n    const contract = TruffleContract(BetValueTopNDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function betTopN() {\r\n    const contract = await betValueTopNDataContract();\r\n    const datas = await contract.topN();\r\n    const topPlayers = datas[0];\r\n    const topBets = datas[1];\r\n    var rankInfos = [];\r\n    for(var i = 0; i < topPlayers.length; i++) {\r\n        var rankInfo = {};\r\n        var account = topPlayers[i];\r\n        if (account === '0x0000000000000000000000000000000000000000') {\r\n            rankInfo.account = '0x0';\r\n        } else {\r\n            rankInfo.account = account.slice(0, 8).concat('...').concat(account.slice(34));\r\n        }\r\n        rankInfo.amount = _.ceil(web3.fromWei(topBets[i].toNumber(), 'ether'), 3);\r\n        rankInfos.push(rankInfo);\r\n    }\r\n    return rankInfos;\r\n}\r\n\r\nexport async function weekBetData() {\r\n    const contract = await betValueTopNDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const bet = await contract.weekData();\r\n    var rankInfo = {};\r\n    rankInfo.account = accounts[0];\r\n    rankInfo.amount = _.ceil(web3.fromWei(bet.toNumber(), 'ether'), 3);\r\n    return rankInfo;\r\n}\r\n","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nimport ScrollDataContract from '../contracts/ScrollData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function scrollDataContract() {\r\n    const contract = TruffleContract(ScrollDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function buyScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const web3 = await getWeb3();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.BuyScroll({_buyer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'BuyScroll_' + i;\r\n        e.from = log.args['_buyer'];\r\n        e.amount = '-' + _.ceil(web3.fromWei(log.args['_total'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_buyTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.GET_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function releaseScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const web3 = await getWeb3();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.ReleaseScroll({_releaser: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'ReleaseScroll_' + i;\r\n        e.from = log.args['_releaser'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_amount'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_releaseTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.RELEASE_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function renewScrollEvent() {\r\n    const contract = await scrollDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const event = contract.RenewScroll({_renewer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'RenewScroll_' + i;\r\n        e.from = log.args['_renewer'];\r\n        e.amount = '0';\r\n        e.time = log.args['_renewTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.RENEW_TASK + (log.args['_scrollType'].toNumber() + 1);\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\n","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport DonationDataContract from '../contracts/DonationData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function donationDataContract() {\r\n    const contract = TruffleContract(DonationDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function donateEvent() {\r\n    const contract = await donationDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.DonateEvent({_donor: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'Donation_' + i;\r\n        e.from = log.args['_donor'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_tokenAmount'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_donateTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.DONATE +  _.ceil(web3.fromWei(log.args['_ttWeiAmount'].toNumber(), 'ether'), 3) + \"TT\";\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","import TruffleContract from 'truffle-contract';\r\nimport { promisify } from 'util';\r\nimport _ from 'lodash';\r\nimport InstitutionDataContract from '../contracts/InstitutionData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nexport async function institutionDataContract() {\r\n    const contract = TruffleContract(InstitutionDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function rewardEvent() {\r\n    const contract = await institutionDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.Reward({_to: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        var rewardType = log.args['_rewardType'].toNumber();\r\n        var eventName = '';\r\n        switch(rewardType) {\r\n            case 0:\r\n                eventName = getLang().LOGS.GAIN_STATIC_PROFIT;\r\n                break;\r\n            case 1:\r\n                eventName = getLang().LOGS.GET_TASK_REWARD;\r\n                break;\r\n            case 2: \r\n                eventName = getLang().LOGS.GAIN_STATIC_PROFIT_REWARD;\r\n                break;\r\n            case 3:\r\n                eventName = getLang().LOGS.POINT_OF_KP_BET;\r\n                break;\r\n            case 4:\r\n                eventName = getLang().LOGS.POINT_OF_NN_BET;\r\n                break;\r\n\r\n        }\r\n        e.key = 'IntroduceReward_' + i;\r\n        e.from = log.args['_from'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_reward'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_rewardTime'].toNumber() * 1000;\r\n        e.eventName = eventName;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}\r\n\r\nexport async function drawQuarterRewardEvent() {\r\n    const contract = await institutionDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const event = contract.DrawQuarterReward({_drawer: accounts[0]}, {fromBlock: 0, toBlock: 'latest'});\r\n    const getAsync = promisify(event.get.bind(event));\r\n    const logs = await getAsync();\r\n    var events = [];\r\n    if(logs.length === 0) {\r\n        return events;\r\n    }\r\n    for(var i = 0; i < logs.length; i++) {\r\n        const log = logs[i];\r\n        var e = {};\r\n        e.key = 'DrawQuarterReward_' + i;\r\n        e.from = log.args['_drawer'];\r\n        e.amount = '+' + _.ceil(web3.fromWei(log.args['_reward'].toNumber(), 'ether'), 3);\r\n        e.time = log.args['_drawTime'].toNumber() * 1000;\r\n        e.eventName = getLang().LOGS.GAIN_QUARTER_REWARD;\r\n        events.push(e);\r\n    }\r\n    return events;\r\n}","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport DonationContract from '../contracts/Donation.json';\r\nimport { getProviderAndAccounts, sendTransaction } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function donationContract() {\r\n    const contract = TruffleContract(DonationContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function donatable() {\r\n    const contract = await donationContract();\r\n    return contract.donatable();\r\n}\r\n\r\nexport async function donationInfo() {\r\n    const contract = await donationContract();\r\n    const web3 = await getWeb3();\r\n    const datas = await contract.donationInfo();\r\n    var info = {};\r\n    info.currentDay = datas[0].toNumber();\r\n    info.rate = datas[1].toNumber();\r\n    info.remainTokenOfDay = web3.fromWei(datas[2].toNumber(), \"ether\");\r\n    info.tokenOfDay = web3.fromWei(datas[3].toNumber(), \"ether\");\r\n    info.ttLimit = web3.fromWei(datas[4].toNumber(), \"ether\");\r\n    return info;\r\n}\r\n\r\nexport async function donate(param) {\r\n    const contract = await donationContract();\r\n    const web3 = await getWeb3();\r\n    // 交易数据\r\n    return contract.donation(web3.toHex(param.deviceId), {value: web3.toWei(param.ttAmount,'ether')});\r\n}","import {\r\n    InvitationInfo,\r\n    MyBonusResponse,\r\n    MyTaskResponse,\r\n    TaskInfo,\r\n    MyTaskInfo,\r\n    TransferParam, \r\n    RankResponse, \r\n    RankInfo, \r\n    TradingLog, \r\n    DonateParam,\r\n    DonationInfo,\r\n} from \"@web3game/typings/home\";\r\nimport {HomeAPI} from \"./HomeAPI\";\r\nimport { myScrolls, getQuarterRewards, drawQuarterRewards, scrolls } from \"../contractHelps/personalCenterContract\";\r\nimport { transfer, buyScroll } from \"../contractHelps/tokenContract\";\r\nimport { batchDrawStaticProfit, releaseScroll, renewScroll } from \"../contractHelps/institutionContract\";\r\nimport { myIntroduceInfo, setInviteCode } from \"../contractHelps/introduceContract\";\r\nimport { achievementTopN, weekAchievementData } from \"../contractHelps/achievementTopNDataContract\";\r\nimport { betTopN, weekBetData } from \"../contractHelps/betValueTopNData\";\r\nimport { buyScrollEvent, releaseScrollEvent, renewScrollEvent } from \"../contractHelps/scrollDataContract\";\r\nimport { donateEvent } from \"../contractHelps/donationDataContract\";\r\nimport { rewardEvent, drawQuarterRewardEvent } from \"../contractHelps/InstitutionDataContract\";\r\nimport { openBoxRewardEvent, openBoxBetEvent } from \"../contractHelps/openBoxContract\";\r\nimport { compareByTime } from \"../../common/utils/functions/sort\";\r\nimport { donate, donationInfo, donatable } from \"../contractHelps/donationContract\";\r\n\r\nexport class HomeAPIReal implements HomeAPI {\r\n    \r\n    public async donatable(): Promise<boolean> {\r\n        return donatable();\r\n    }\r\n    \r\n    public async getDonationInfo(): Promise<DonationInfo> {\r\n        const info = await donationInfo();\r\n        return info as DonationInfo;\r\n    }\r\n\r\n    public async doDonate(params: DonateParam): Promise<void> {\r\n        return donate(params);\r\n    }\r\n\r\n    public async getTradingLog(): Promise<TradingLog[]> {\r\n        const buyScrollEvents = await buyScrollEvent();\r\n        const releaseScrollEvents = await releaseScrollEvent();\r\n        const renewScrollEvents = await renewScrollEvent();\r\n        const donateEvents = await donateEvent();\r\n        const rewardEvents = await rewardEvent();\r\n        const drawQuarterRewardEvents = await drawQuarterRewardEvent();\r\n        const openBoxRewardEvents = await openBoxRewardEvent();\r\n        const openBoxBetEvents = await openBoxBetEvent();\r\n        var events = [\r\n            ...buyScrollEvents, \r\n            ...releaseScrollEvents, \r\n            ...renewScrollEvents, \r\n            ...donateEvents, \r\n            ...rewardEvents, \r\n            ...drawQuarterRewardEvents,\r\n            ...openBoxRewardEvents,\r\n            ...openBoxBetEvents,\r\n        ];\r\n        // 按时间排序\r\n        events = events.sort(compareByTime());\r\n        return events as TradingLog[];\r\n    }\r\n\r\n    public async getMyEarningLog(): Promise<TradingLog[]> {\r\n        return [];\r\n    }\r\n\r\n    public async getSystemAnnouncement(): Promise<TradingLog[]> {\r\n        return [];\r\n    }\r\n\r\n    releaseScroll(task: MyTaskInfo): Promise<void> {\r\n        return releaseScroll(task);\r\n    }\r\n\r\n    renewScroll(task: MyTaskInfo): Promise<void> {\r\n        return renewScroll(task);\r\n    }\r\n\r\n    async getTaskList(): Promise<TaskInfo[]> {\r\n        return scrolls();\r\n\r\n    }\r\n\r\n    async getMyTaskList(): Promise<MyTaskInfo[]> {\r\n        console.error(Error('not implementation'));\r\n        return [];\r\n    }\r\n\r\n    public async transfer(params: TransferParam) {\r\n        return transfer(params);\r\n    }\r\n\r\n    public async getInvitationResponse(): Promise<InvitationInfo> {\r\n        const introduceInfo = await myIntroduceInfo();\r\n        const result: InvitationInfo = {\r\n            code: introduceInfo[0],\r\n            myInviter: introduceInfo[1],\r\n            invitationList: introduceInfo[2]\r\n        };\r\n        return result;\r\n    }\r\n\r\n    public async getMyBonusResponse(): Promise<MyBonusResponse> {\r\n        return await getQuarterRewards() as MyBonusResponse;\r\n    }\r\n\r\n    public async getMyTaskResponse(): Promise<MyTaskResponse> {\r\n        const result: MyTaskResponse = await myScrolls();\r\n        return result;\r\n    }\r\n\r\n    public async setInvitor(invitor: string): Promise<void> {\r\n        return setInviteCode(invitor);\r\n    }\r\n\r\n    public async gainTaskEarning(): Promise<void> {\r\n        return batchDrawStaticProfit();\r\n    }\r\n\r\n    public async gainQuoterBonus(): Promise<void> {\r\n        return drawQuarterRewards();\r\n    }\r\n\r\n    public async addTask(taskInfo: TaskInfo): Promise<void> {\r\n        const scrollType = taskInfo.id;\r\n        const price = taskInfo.tti;\r\n        return buyScroll(scrollType, price);\r\n    }\r\n\r\n    public async getGamePlayRankList(): Promise<RankResponse> {\r\n        const rankInfos: RankInfo[] = await betTopN();\r\n        const rankInfo: RankInfo = await weekBetData();\r\n        return {myRank: rankInfo, rankList: rankInfos} as RankResponse;\r\n    }\r\n\r\n    public async getRefererRankList(): Promise<RankResponse> {\r\n        const rankInfos: RankInfo[] = await achievementTopN();\r\n        const rankInfo: RankInfo = await weekAchievementData();\r\n        return {myRank: rankInfo, rankList: rankInfos} as RankResponse;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default new HomeAPIReal();\r\n","import TruffleContract from 'truffle-contract';\r\n\r\nimport TokenContract from '../contracts/CupcakeToken.json';\r\nimport { getProviderAndAccounts, getAccounts, sendTransaction } from '../helpers/web3Helpers';\r\nimport { institutionContract } from './institutionContract';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function tokenContract() {\r\n    const contract = TruffleContract(TokenContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function getTokenBalance() {\r\n    const accounts = await getAccounts();\r\n    const contract = await tokenContract();\r\n    return contract.balanceOf(accounts[0]);\r\n}\r\n\r\nexport async function buyScroll(scrollType, price) {\r\n    const contract = await tokenContract();\r\n    const institution = await institutionContract();\r\n    return contract.buyScroll(institution.address, scrollType, web3.toWei(price, 'ether'), 1, web3.toWei(price, 'ether'));\r\n}\r\n\r\nexport async function bet(betAddress, betType, value, issueNo, nums, amounts) {\r\n    const contract = await tokenContract();\r\n    const institution = await institutionContract();\r\n    return contract.bet(\r\n        betAddress, \r\n        institution.address, \r\n        betType, \r\n        value, \r\n        issueNo, \r\n        nums, \r\n        amounts,\r\n    );\r\n}\r\n\r\nexport async function transfer(transferParam) {\r\n    const web3 = await getWeb3();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    if(transferParam.type === 'TT') {\r\n        var transactionObject = {};\r\n        transactionObject.from = accounts[0];\r\n        transactionObject.to = transferParam.toAccount;\r\n        transactionObject.value = web3.toWei(transferParam.amount,'ether');\r\n        return sendTransaction(transactionObject);\r\n    }\r\n    const contract = await tokenContract();\r\n    return contract.transfer(transferParam.toAccount, web3.toWei(transferParam.amount,'ether'));\r\n}\r\n","import TruffleContract from 'truffle-contract';\r\n\r\nimport IntroduceContract from '../contracts/Introduce.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\n\r\nexport async function introduceContract() {\r\n    const contract = TruffleContract(IntroduceContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function myInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.myInviteCode();\r\n}\r\n\r\nexport async function myIntroducer() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroducer();\r\n}\r\n\r\nexport async function createInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.createInviteCode();\r\n}\r\n\r\nexport async function setInviteCode(inviteCode) {\r\n    const contract = await introduceContract();\r\n    return contract.setInviteCode(inviteCode);\r\n}\r\n\r\nexport async function myIntroduceInfo() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroduceInfo();\r\n}\r\n\r\n"],"sourceRoot":""}