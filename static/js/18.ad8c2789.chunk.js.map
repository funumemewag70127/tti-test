{"version":3,"sources":["apis/contractHelps/personalCenterContract.js","apis/contractHelps/introduceContract.js","apis/contractHelps/achievementTopNDataContract.js","apis/home/HomeAPIReal.ts","home/styles/app/myTask/1@3x.png","home/styles/app/myTask/2@3x.png","home/styles/app/myTask/3@3x.png","home/styles/app/myTask/4@3x.png"],"names":["TaskImages","TaskImage1","TaskImage2","TaskImage3","TaskImage4","personalCenterContract","_personalCenterContract","apply","this","arguments","_callee","contract","_ref","currentProvider","accounts","regenerator_default","a","wrap","_context","prev","next","TruffleContract","PersonalCenterContract","getProviderAndAccounts","sent","setProvider","defaults","from","abrupt","deployed","stop","totalProfit","tspf","tf","plus","myScroll","scrollType","scrollData","tasks","latestGain","web3","name","rate","times","ids","length","getLang","HOME_PAGE","PRODUCT_NAME_0","PRODUCT_NAME_1","PRODUCT_NAME_2","PRODUCT_NAME_3","i","id","toNumber","task","remainTimes","tti","staticProfitOfOneTime","_","ceil","fromWei","staticProfit","push","myScrolls","_myScrolls","_callee2","scrollData0","scrollData1","scrollData2","scrollData3","myTaskResponse","_context2","getWeb3","BigNumber","todayTotalIncome","taskList","eq","moment","Date","format","getQuarterRewards","_getQuarterRewards","_callee3","datas","enddays","rewards","availableRewards","result","quarters","quarter","_context3","quarterName","QUARTER","endday","reward","availableReward","availableTotal","bonusList","drawQuarterRewards","_drawQuarterRewards","_callee4","_context4","scrolls","_scrolls","_callee5","ss","scroll","_context5","limit","canBuy","imageUrl","introduceContract","_introduceContract","IntroduceContract","setInviteCode","_x","_setInviteCode","inviteCode","myIntroduceInfo","_myIntroduceInfo","_callee6","_context6","achievementTopNDataContract","_achievementTopNDataContract","AchievementTopNDataContract","topN","_topN","topIntroduces","topAchievements","rankInfos","rankInfo","account","slice","concat","amount","achievements","_achievements","_ref2","achievement","HomeAPIReal","Object","classCallCheck","createClass","key","value","releaseScroll","renewScroll","_getTaskList","asyncToGenerator","mark","_getMyTaskList","console","error","Error","_transfer2","params","transfer","_getInvitationResponse","introduceInfo","code","myInviter","invitationList","_getMyBonusResponse","_getMyTaskResponse","_setInvitor","_callee7","invitor","_context7","_x2","_gainTaskEarning","_callee8","_context8","batchDrawStaticProfit","_gainQuoterBonus","_callee9","_context9","_addTask","_callee10","taskInfo","price","_context10","buyScroll","_x3","_getGamePlayRankList","_callee11","_context11","_getRefererRankList","_callee12","_context12","myRank","rankList","__webpack_exports__","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/18.ad8c2789.chunk.js","sourcesContent":["import TruffleContract from 'truffle-contract';\r\nimport BigNumber from \"bignumber.js\";\r\nimport {getLang} from \"@web3game/lang\";\r\n\r\nimport PersonalCenterContract from '../contracts/PersonalCenter.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport TaskImage1 from '../../home/styles/app/myTask/1@3x.png';\r\nimport TaskImage2 from '../../home/styles/app/myTask/2@3x.png';\r\nimport TaskImage3 from '../../home/styles/app/myTask/3@3x.png';\r\nimport TaskImage4 from '../../home/styles/app/myTask/4@3x.png';\r\nconst TaskImages = {\r\n    TaskImage1,\r\n    TaskImage2,\r\n    TaskImage3,\r\n    TaskImage4,\r\n};\r\n\r\nexport async function personalCenterContract() {\r\n    const contract = TruffleContract(PersonalCenterContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nfunction totalProfit(tspf, tf) {\r\n    if (!tf) {\r\n        return tspf;\r\n    }\r\n    return tspf.plus(tf);\r\n}\r\n\r\nfunction myScroll(scrollType, scrollData, tasks, latestGain, web3) {\r\n    var ids = scrollData[0];\r\n    if(ids.length === 0) {\r\n        return latestGain;\r\n    }\r\n\r\n    var name;\r\n    var rate;\r\n    var times;\r\n    switch(scrollType) {\r\n        case 0:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            rate = 6;\r\n            times = 30;\r\n            break;\r\n        case 1:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            rate = 8;\r\n            times = 30;\r\n            break;\r\n        case 2:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            rate = 15;\r\n            times = 30;\r\n            break;\r\n        case 3:\r\n            name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            rate = 20;\r\n            times = 30;\r\n            break;\r\n        default:\r\n    }\r\n\r\n    for(var i = 0; i < ids.length; i++) {\r\n        var id = ids[i];\r\n        // 如果id=0,说明任务已经被删除\r\n        if(id.toNumber() === 0) {\r\n            continue;\r\n        }\r\n        \r\n        var task = {};\r\n        task.scrollType = scrollType;\r\n        task.id = id;\r\n        task.name = name;\r\n        task.rate = rate;\r\n        task.times = times;\r\n        task.remainTimes = scrollData[1][i].toNumber();\r\n        task.latestGain = scrollData[2][i];\r\n        if(task.latestGain.toNumber() > latestGain.toNumber()) {\r\n            latestGain = task.latestGain;\r\n        }\r\n        task.tti = scrollData[3][i];\r\n        task.staticProfitOfOneTime = _.ceil(web3.fromWei(scrollData[4][i].toNumber(), 'ether'), 3);\r\n        task.staticProfit = _.ceil(web3.fromWei(scrollData[5][i].toNumber(), 'ether'), 3);\r\n        tasks.push(task);\r\n    }\r\n    return latestGain;    \r\n}\r\n\r\nexport async function myScrolls() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const scrollData0 = await contract.myScrolls(0);\r\n    const scrollData1 = await contract.myScrolls(1);\r\n    const scrollData2 = await contract.myScrolls(2);\r\n    const scrollData3 = await contract.myScrolls(3);\r\n\r\n    var myTaskResponse = {};\r\n\r\n    // 累加总收益\r\n    var tspf = new BigNumber(0);\r\n    tspf = totalProfit(tspf, scrollData0[6]);\r\n    tspf = totalProfit(tspf, scrollData1[6]);\r\n    tspf = totalProfit(tspf, scrollData2[6]);\r\n    tspf = totalProfit(tspf, scrollData3[6]);\r\n\r\n    // 任务列表\r\n    var tasks = [];\r\n    var latestGain = new BigNumber(0);\r\n    latestGain = myScroll(0, scrollData0, tasks, latestGain, web3);\r\n    latestGain = myScroll(1, scrollData1, tasks, latestGain, web3);\r\n    latestGain = myScroll(2, scrollData2, tasks, latestGain, web3);\r\n    latestGain = myScroll(3, scrollData3, tasks, latestGain, web3);\r\n\r\n    myTaskResponse.todayTotalIncome = _.ceil(web3.fromWei(tspf.toNumber(), 'ether'), 3);\r\n    myTaskResponse.taskList = tasks;\r\n    myTaskResponse.latestGain = latestGain.eq(0) ? '无' : moment(new Date(latestGain.toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n    return myTaskResponse;\r\n}\r\n\r\nexport async function getQuarterRewards() {\r\n    const web3 = await getWeb3();\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.getQuarterRewards();\r\n    const enddays = datas[0];\r\n    const rewards = datas[1];\r\n    const availableRewards = datas[2];\r\n    var result = {};\r\n    var quarters = [];\r\n    if(enddays.length === 0) {\r\n        return result;\r\n    }\r\n    for(var i = 0; i < enddays.length; i++) {\r\n        var quarter = {};\r\n        quarter.quarterName = getLang().HOME_PAGE.QUARTER + ' ' + (i + 1);\r\n        quarter.endday = moment(new Date(enddays[i].toNumber() * 24 * 60 * 60 * 1000)).format('YYYY-MM-DD');\r\n        quarter.reward = _.ceil(web3.fromWei(rewards[i].toNumber(), 'ether'), 3);\r\n        quarter.availableReward = _.ceil(web3.fromWei(availableRewards[i].toNumber(), 'ether'), 3);\r\n        quarters.push(quarter);\r\n    }\r\n    result.availableTotal = _.ceil(web3.fromWei(datas[3].toNumber(), 'ether'), 3);\r\n    result.bonusList = quarters;\r\n    return result;\r\n}\r\n\r\nexport async function drawQuarterRewards() {\r\n    const contract = await personalCenterContract();\r\n    return contract.drawQuarterRewards();\r\n}\r\n\r\nexport async function scrolls() {\r\n    const contract = await personalCenterContract();\r\n    const datas = await contract.scrolls();\r\n    var ss = [];\r\n    for(var i = 0; i < datas[0].length; i++) {\r\n        var scroll = {};\r\n        scroll.id = i;\r\n        scroll.tti = _.ceil(web3.fromWei(datas[0][i].toNumber(), 'ether'), 3);\r\n        scroll.rate = datas[1][i].toNumber();\r\n        scroll.limit = datas[2][i].toNumber();\r\n        scroll.times = datas[3][i].toNumber();\r\n        scroll.canBuy = datas[4][i].toNumber();\r\n        if(i == 0) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_0;\r\n            scroll.imageUrl = TaskImages.TaskImage1;\r\n        } else if (i == 1) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_1;\r\n            scroll.imageUrl = TaskImages.TaskImage2;\r\n        } else if (i == 2) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_2;\r\n            scroll.imageUrl = TaskImages.TaskImage3;\r\n        } else if (i == 3) {\r\n            scroll.name = getLang().HOME_PAGE.PRODUCT_NAME_3;\r\n            scroll.imageUrl = TaskImages.TaskImage4;\r\n        }\r\n        ss.push(scroll);\r\n    }\r\n    return ss;\r\n} ","import TruffleContract from 'truffle-contract';\r\n\r\nimport IntroduceContract from '../contracts/Introduce.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\n\r\nexport async function introduceContract() {\r\n    const contract = TruffleContract(IntroduceContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function myInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.myInviteCode();\r\n}\r\n\r\nexport async function myIntroducer() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroducer();\r\n}\r\n\r\nexport async function createInviteCode() {\r\n    const contract = await introduceContract();\r\n    return contract.createInviteCode();\r\n}\r\n\r\nexport async function setInviteCode(inviteCode) {\r\n    const contract = await introduceContract();\r\n    return contract.setInviteCode(inviteCode);\r\n}\r\n\r\nexport async function myIntroduceInfo() {\r\n    const contract = await introduceContract();\r\n    return contract.myIntroduceInfo();\r\n}\r\n\r\n","import TruffleContract from 'truffle-contract';\r\nimport _ from 'lodash';\r\nimport AchievementTopNDataContract from '../contracts/AchievementTopNData.json';\r\nimport { getProviderAndAccounts } from '../helpers/web3Helpers';\r\nimport { getWeb3 } from \"../helpers/getWeb3\";\r\n\r\nexport async function achievementTopNDataContract() {\r\n    const contract = TruffleContract(AchievementTopNDataContract);\r\n    const { currentProvider, accounts } = await getProviderAndAccounts();\r\n    contract.setProvider(currentProvider);\r\n    contract.defaults({from: accounts[0]});\r\n    return contract.deployed();\r\n}\r\n\r\nexport async function topN() {\r\n    const contract = await achievementTopNDataContract();\r\n    const datas = await contract.topN();\r\n    const topIntroduces = datas[0];\r\n    const topAchievements = datas[1];\r\n    var rankInfos = [];\r\n    for(var i = 0; i < topIntroduces.length; i++) {\r\n        var rankInfo = {};\r\n        var account = topIntroduces[i];\r\n        if (account === '0x0000000000000000000000000000000000000000') {\r\n            rankInfo.account = '0x0';\r\n        } else {\r\n            rankInfo.account = account.slice(0, 8).concat('...').concat(account.slice(34));\r\n        }\r\n        rankInfo.amount = _.ceil(web3.fromWei(topAchievements[i].toNumber(), 'ether'), 3);\r\n        rankInfos.push(rankInfo);\r\n    }\r\n    return rankInfos;\r\n}\r\n\r\nexport async function achievements() {\r\n    const contract = await achievementTopNDataContract();\r\n    const { accounts } = await getProviderAndAccounts();\r\n    const web3 = await getWeb3();\r\n    const achievement = await contract.achievements(accounts[0]);\r\n    var rankInfo = {};\r\n    rankInfo.account = accounts[0];\r\n    rankInfo.amount = _.ceil(web3.fromWei(achievement.toNumber(), 'ether'), 3);\r\n    return rankInfo;\r\n}\r\n","import {\r\n    InvitationInfo,\r\n    MyBonusResponse,\r\n    MyTaskResponse,\r\n    TaskInfo,\r\n    MyTaskInfo,\r\n    TransferParam, RankResponse, RankInfo\r\n} from \"@web3game/typings/home\";\r\nimport {HomeAPI} from \"./HomeAPI\";\r\nimport { myScrolls, getQuarterRewards, drawQuarterRewards, scrolls } from \"../contractHelps/personalCenterContract\";\r\nimport { transfer, buyScroll } from \"../contractHelps/tokenContract\";\r\nimport { batchDrawStaticProfit, releaseScroll, renewScroll } from \"../contractHelps/institutionContract\";\r\nimport { myIntroduceInfo, setInviteCode } from \"../contractHelps/introduceContract\";\r\nimport { topN, achievements } from \"../contractHelps/achievementTopNDataContract\";\r\n\r\nexport class HomeAPIReal implements HomeAPI {\r\n\r\n    releaseScroll(task: MyTaskInfo): Promise<void> {\r\n        return releaseScroll(task);\r\n    }\r\n\r\n    renewScroll(task: MyTaskInfo): Promise<void> {\r\n        return renewScroll(task);\r\n    }\r\n\r\n    async getTaskList(): Promise<TaskInfo[]> {\r\n        return scrolls();\r\n\r\n    }\r\n\r\n    async getMyTaskList(): Promise<MyTaskInfo[]> {\r\n        console.error(Error('not implementation'));\r\n        return [];\r\n    }\r\n\r\n    public async transfer(params: TransferParam) {\r\n        return transfer(params);\r\n    }\r\n\r\n    public async getInvitationResponse(): Promise<InvitationInfo> {\r\n        const introduceInfo = await myIntroduceInfo();\r\n        const result: InvitationInfo = {\r\n            code: introduceInfo[0],\r\n            myInviter: introduceInfo[1],\r\n            invitationList: introduceInfo[2]\r\n        };\r\n        return result;\r\n    }\r\n\r\n    public async getMyBonusResponse(): Promise<MyBonusResponse> {\r\n        return await getQuarterRewards() as MyBonusResponse;\r\n    }\r\n\r\n    public async getMyTaskResponse(): Promise<MyTaskResponse> {\r\n        const result: MyTaskResponse = await myScrolls();\r\n        return result;\r\n    }\r\n\r\n    public async setInvitor(invitor: string): Promise<void> {\r\n        return setInviteCode(invitor);\r\n    }\r\n\r\n    public async gainTaskEarning(): Promise<void> {\r\n        return batchDrawStaticProfit();\r\n    }\r\n\r\n    public async gainQuoterBonus(): Promise<void> {\r\n        return drawQuarterRewards();\r\n    }\r\n\r\n    public async addTask(taskInfo: TaskInfo): Promise<void> {\r\n        const scrollType = taskInfo.id;\r\n        const price = taskInfo.tti;\r\n        return buyScroll(scrollType, price);\r\n    }\r\n\r\n    public async getGamePlayRankList(): Promise<RankResponse> {\r\n        return {} as RankResponse;\r\n    }\r\n\r\n    public async getRefererRankList(): Promise<RankResponse> {\r\n        const rankInfos: RankInfo[] = await topN();\r\n        const rankInfo: RankInfo = await achievements();\r\n        return {myRank: rankInfo, rankList: rankInfos} as RankResponse;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default new HomeAPIReal();\r\n","module.exports = __webpack_public_path__ + \"static/media/1@3x.0698e368.png\";","module.exports = __webpack_public_path__ + \"static/media/2@3x.b236b5ce.png\";","module.exports = __webpack_public_path__ + \"static/media/3@3x.0cf2f29a.png\";","module.exports = __webpack_public_path__ + \"static/media/4@3x.717151aa.png\";"],"sourceRoot":""}